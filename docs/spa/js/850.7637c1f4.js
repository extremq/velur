"use strict";(self["webpackChunkvelur"]=self["webpackChunkvelur"]||[]).push([[850],{2850:(e,l,t)=>{t.r(l),t.d(l,{default:()=>W});var a=t(3673),s=t(2323);const r={class:"q-pa-md fit row inline wrap justify-center items-start content-start q-gutter-md"},n={class:"col text-h3"};function u(e,l,t,u,o,m){const i=(0,a.up)("q-card-section"),d=(0,a.up)("q-input"),c=(0,a.up)("q-btn"),p=(0,a.up)("q-form"),g=(0,a.up)("q-card"),w=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(w,null,{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(g,{flat:"",bordered:"",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a._)("div",n,(0,s.zw)(e.$route.name),1)])),_:1}),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onSubmit:m.onSubmit,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{filled:"",type:"text",modelValue:o.register.username,"onUpdate:modelValue":l[0]||(l[0]=e=>o.register.username=e),label:"Username",hint:"12 characters maximum, only letters and numbers allowed.","lazy-rules":"",rules:[e=>e&&e.length>0&&e.length<13&&/^[a-zA-Z0-9]+$/.test(e)||"Please type a valid username (12 characters maximum, only letters and numbers allowed)"]},null,8,["modelValue","rules"]),(0,a.Wm)(d,{filled:"",type:"email",modelValue:o.register.email,"onUpdate:modelValue":l[1]||(l[1]=e=>o.register.email=e),label:"Email","lazy-rules":"",rules:[e=>e&&e.length>0&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"Please type a valid email address"]},null,8,["modelValue","rules"]),(0,a.Wm)(d,{filled:"",type:"password",modelValue:o.register.password,"onUpdate:modelValue":l[2]||(l[2]=e=>o.register.password=e),label:"Password",hint:"At least 8 characters long, 1 uppercase, 1 lowercase and 1 number.","lazy-rules":"",rules:[e=>e&&e.length>0&&e.length<65&&/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(e)||"Please type a valid password (at least 8 characters long, 1 uppercase, 1 lowercase and 1 number)"]},null,8,["modelValue","rules"]),(0,a._)("div",null,[(0,a.Wm)(c,{label:"Submit",type:"submit",color:"primary"}),(0,a.Wm)(c,{label:"Login instead",color:"primary",outline:"",class:"q-ml-sm",to:"/login"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])])),_:1})}var o=t(8825),m=t(6382),i=t(2490),d=t(8127);let c;const p={name:"PageLogin",data(){return{register:{email:"",username:"",password:""}}},methods:{async onSubmit(){try{const e=(0,m.v0)();(0,m.Xb)(e,this.register.email,this.register.password).then((async e=>{e.user;console.log("Account created succesfully!");let l={username:this.register.username,offers:[]};await(0,d.pl)((0,d.JU)(i["default"],"users",this.register.email),l),this.$router.push("/"),c.notify({color:"green-4",textColor:"white",message:"Account created!"})})).catch((e=>{e.code;const l=e.message;c.notify({color:"red-4",textColor:"white",message:l})}))}catch(e){console.log(e)}}},mounted(){c=(0,o.Z)()}};var g=t(4260),w=t(4379),h=t(151),f=t(5589),y=t(5269),b=t(4689),v=t(8240),Z=t(7518),q=t.n(Z);const V=(0,g.Z)(p,[["render",u]]),W=V;q()(p,"components",{QPage:w.Z,QCard:h.Z,QCardSection:f.Z,QForm:y.Z,QInput:b.Z,QBtn:v.Z})}}]);