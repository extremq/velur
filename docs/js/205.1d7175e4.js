"use strict";(self["webpackChunkvelur"]=self["webpackChunkvelur"]||[]).push([[205],{205:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Z});var a=t(3673),r=t(2323),o=t(8880);const i={class:"q-pa-md fit row inline wrap justify-center items-start content-start q-gutter-md"},n={class:"col text-h3"};function u(e,l,t,u,s,m){const d=(0,a.up)("q-card-section"),c=(0,a.up)("q-input"),f=(0,a.up)("q-icon"),p=(0,a.up)("q-file"),h=(0,a.up)("q-select"),g=(0,a.up)("q-btn"),b=(0,a.up)("q-form"),y=(0,a.up)("q-card"),w=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(w,null,{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a.Wm)(y,{flat:"",bordered:"",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",n,(0,r.zw)(e.$route.name),1)])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{onSubmit:m.onSubmit,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{filled:"",type:"text",modelValue:s.offer.title,"onUpdate:modelValue":l[0]||(l[0]=e=>s.offer.title=e),label:"Title",hint:"40 characters allowed.","lazy-rules":"",rules:[e=>e&&e.length>0&&e.length<41||"Too many characters. Title is mandatory."]},null,8,["modelValue","rules"]),(0,a.Wm)(c,{filled:"",type:"number",modelValue:s.offer.price,"onUpdate:modelValue":l[1]||(l[1]=e=>s.offer.price=e),modelModifiers:{number:!0},label:"Price",hint:"Price must be greater than 0.","lazy-rules":"",rules:[e=>e&&e>0&&/^[0-9.]+$/.test(e)||"Type a positive number, please. Use a dot and not a comma."]},null,8,["modelValue","rules"]),(0,a.Wm)(p,{modelValue:s.files,"onUpdate:modelValue":l[3]||(l[3]=e=>s.files=e),label:"Pick images",hint:"Only upload images that are less than 10 megabytes in size.",filled:"",counter:"","counter-label":s.counterLabelFn,"max-files":"3",multiple:"",filter:m.checkFileSize,accept:".jpg, image/*",onRejected:m.onRejected,"lazy-rules":"",rules:[e=>e&&e.length>0]},{prepend:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"attach_file"})])),append:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"close",onClick:l[2]||(l[2]=(0,o.iM)((e=>s.files=[]),["stop"])),class:"cursor-pointer"})])),_:1},8,["modelValue","counter-label","filter","onRejected","rules"]),(0,a.Wm)(c,{filled:"",type:"text",modelValue:s.offer.manufacturer,"onUpdate:modelValue":l[4]||(l[4]=e=>s.offer.manufacturer=e),label:"Manufacturer",hint:"15 characters allowed.","lazy-rules":"",rules:[e=>e&&e.length>0&&e.length<16||"Specify the manufacturer, please."]},null,8,["modelValue","rules"]),(0,a.Wm)(h,{filled:"",modelValue:s.offer.size,"onUpdate:modelValue":l[5]||(l[5]=e=>s.offer.size=e),options:s.sizings,label:"Sizing"},null,8,["modelValue","options"]),(0,a.Wm)(c,{filled:"",type:"text",modelValue:s.offer.material,"onUpdate:modelValue":l[6]||(l[6]=e=>s.offer.material=e),label:"Material",hint:"20 characters allowed.","lazy-rules":"",rules:[e=>e&&e.length>0&&e.length<16||"Specify the material(s), please."]},null,8,["modelValue","rules"]),(0,a._)("div",null,[(0,a.Wm)(g,{label:"Submit",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])])),_:1})}var s=t(8825),m=t(2490),d=t(8127);let c;const f={name:"PageCreate",data(){return{files:[],counterLabelFn({totalSize:e,filesNumber:l,maxFiles:t}){return`${l} files of ${t} | ${e}`},sizings:["XS","S","M","L","XL","XXL","XXXL"],offer:{title:"",images:["https://media.gq-magazine.co.uk/photos/5f575108020908336ccd4d82/master/w_1000,c_limit/20200907-tshirt-05.jpg"],author:this.$store.getters.user.data.displayName,manufacturer:"",price:0,material:"",size:"M",date:null}}},methods:{async onSubmit(){try{let e=this.offer;e.date=d.EK.now(),console.log(e),await(0,d.ET)((0,d.hJ)(m["default"],"offers"),e),c.notify({color:"green-4",textColor:"white",message:"Submitted!"}),console.log(this.offer),this.$router.push("/")}catch(e){console.log(e)}},onRejected(e){c.notify({type:"negative",message:`Upload only images that are < 10MB - ${e.length} file(s).`})},checkFileSize(e){return e.filter((e=>e.size<10485760))}},mounted(){c=(0,s.Z)()}};var p=t(4260),h=t(4379),g=t(151),b=t(5589),y=t(5269),w=t(4689),z=t(4974),V=t(4554),S=t(8527),_=t(8240),q=t(7518),W=t.n(q);const v=(0,p.Z)(f,[["render",u],["__scopeId","data-v-334a58ae"]]),Z=v;W()(f,"components",{QPage:h.Z,QCard:g.Z,QCardSection:b.Z,QForm:y.Z,QInput:w.Z,QFile:z.Z,QIcon:V.Z,QSelect:S.Z,QBtn:_.Z})}}]);